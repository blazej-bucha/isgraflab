# Test computation using GUI

Provided is a brief manual to compute a functional of the geopotential (here,
the disturbing potential).  All paths in this section are relative to the top
directory of the repository.

* Panel `Geopotential model and reference system selection`

  * Import the gravity field model file `./data/input/EGM96.mat` using the
    `Browse...` button.

* Panel `Irregular surface selection`

  * Define the ellipsoidal coordinates of the irregular surface grid as
    follows:

    * Set the `Lat. min (deg)` field to `48`

    * Set the `Lat. step (deg)` field to `1`

    * Set the `Lat. max (deg)` field to `49`

    * Set the `Lon. min (deg)` field to `20`

    * Set the `Lon. step (deg)` field to `1`

    * Set the `Lon. max (deg)` field to `22`

    * Set the `Height above the reference surface (m)` field to `0`.

  * Click the `Browse...` button to import the input DEM file
    `./data/input/input-dem.txt`.  This file specifies the vertical position of
    the irregular surface using ellipsoidal heights (in metres).

* Panel `Calculated parameters and output selection`

  * From the first pop-up menu, choose `Disturbing_potential`. 

  * Enter name of the output file using the `Output folder and file` button
    (enter only the name of the file, i.e. without any suffix).

  * Click the `OK` button to start the computation.

* Compare your results with the reference ones from the enclosed sample output
  file `./data/output/output.txt`.


# Test computation using the command line

All paths in this section are relative to the `src` directory of the
repository.

* In MATLAB, change your current working directory to `src`.

* Execute the following command:

```
isGrafLab('OK',...
          3986004.415E+8, ...
          6378136.3, ...
          0, ...
          360, ...
          1, ...
          '../data/input/EGM96.mat', ...
          0, ...
          3, ...
          48, ...
          1, ...
          49, ...
          20, ...
          1, ...
          22, ...
          0, ...
          '../data/input/input-dem.txt', ...
          0, ...
          '../data/output/my_output', ...
          5, ...
          1, ...
          [], ...
          1, ...
          1, ...
          0, ...
          [], ...
          [], ...
          [], ...
          [], ...
          [], ...
          1)
```

* The description of the input variables can be found in the source code (look
  for the text: `function isGrafLab` in `./isGrafLab.m`) or in the GrafLab
  [cookbook](https://github.com/blazej-bucha/graflab-cookbook).

* Compare your output file, `../data/output/my_output.txt`, with the
  reference file `../data/output/output.txt`.

